{% extends 'base.html' %}
{% load static %}

{% block importacoes %} 
<link rel="stylesheet" href="{% static 'css/listar_usuario.css' %}"> 
{% endblock%}

{% block content %}
<br>
<h2>Lista de usuários</h2>
<div class="l">
  <a href="{% url 'user_create' %}" class="btn btn-primary btn-sm float-right">Cadastrar novo usuário</a>
</div>

<br>
<br>
{% if request.user.user_type == "ADMIN" or "GERENTE" %}
  <table id="app" class="table table-striped table-hover table-condensed">
    <thead>
      <tr>
        <th>Username</th>
        <th>Email</th>
        <th>Perfil usuário</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody>
      {% for user in object_list %}
      <tr>
        <td>{{ user.username }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.get_user_type_display }}</td>
        <td>
          <a href="{% url 'user_update' user.pk %}"></i>Editar</a>
          <a href="{% url 'user_delete' user.pk %}">Excluir</a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
{% endif %}
{% endblock %}
